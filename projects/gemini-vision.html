<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Vision Studio - Young Woo Song</title>
    <link rel="stylesheet" href="../css/project-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;600;700&family=JetBrains+Mono:wght@300;400;500;600;700;800&family=Fira+Code:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <a href="../index.html" class="logo">
                    <strong>Y_</strong><span>W_SONG</span>
                </a>
                <nav class="main-nav">
                    <ul class="nav-links">
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#multi-agent">Agents</a></li>
                        <li><a href="#architecture">Architecture</a></li>
                        <li><a href="#workflow">Workflow</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#results">Results</a></li>
                    </ul>
                </nav>
                <div class="social-links">
                    <a href="https://github.com/Userdflt" class="social-link" aria-label="GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/young-woo-song-145488217/" class="social-link" aria-label="LinkedIn">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="https://youngwoosongcv.notion.site/Young-Woo-Song-1c964ba2209280bb954ad884c1a11b0f" class="social-link" aria-label="Resume">
                        <i class="fas fa-file-alt"></i>
                    </a>
                </div>
                <button class="mobile-toggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Project Hero -->
    <section class="project-hero">
        <div class="container">
            <div class="project-hero-content">
                <div class="project-meta">
                    <span class="project-category">Generative AI</span>
                    <h1 class="project-title">Gemini Vision Studio</h1>
                    <p>A multi-agent AI system that transforms simple briefs into detailed prompts and professional visuals using Google's Gemini API. Features a structured pipeline with Planner and Writer agents for superior image generation.</p>
                    <div class="project-links">
                        <a href="https://github.com/Userdflt/Gemini-vision-studio" class="btn btn-primary" target="_blank" rel="noopener noreferrer">
                            <span>View on GitHub</span>
                        </a>
                        <a href="https://ai.studio/apps/drive/1055RYwK_n8IR1jgeHFbVvdD6CzxeREU6" class="btn btn-secondary" target="_blank" rel="noopener noreferrer">
                            <span>Google AI Studio</span>
                        </a>
                    </div>
                </div>
                <div class="project-hero-image">
                    <img src="../images/Gemini_Vision_Studio_Hero.png" alt="Gemini Vision Studio Interface">
                </div>
            </div>
        </div>
    </section>

    <!-- Overview Section -->
    <section id="overview" class="project-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Project Overview</h2>
            </div>
            <div class="section-content">
                <p>Gemini Vision Studio is a web application built in Google AI Studio that streamlines AI image generation with an advanced multi-agent workflow. It replaces trial-and-error prompting with a structured pipeline where specialized AI agents collaborate to interpret ideas, compose detailed prompts, and generate professional visuals.</p>
                
                <p>The application is built as a modern Single Page Application (SPA) using <strong>React</strong> and <strong>TypeScript</strong>, styled with <strong>Tailwind CSS</strong> in dark mode, and persists user sessions in-browser via <strong>IndexedDB</strong> to survive refreshes.</p>
                <br>
            </br>
                <h3>Core Concept: Multi-Agent Workflow</h3>
                <p>A two-stage pipeline converts a brief into a superior "power prompt," improving detail, coherence, and alignment with the user's intent.</p>
            </div>
        </div>
    </section>

    <!-- Multi-Agent Architecture -->
    <section id="multi-agent" class="project-section bg-light">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Multi-Agent Architecture</h2>
            </div>
            <div class="section-content">
                <div class="agents-grid">
                    <!-- Planner Agent -->
                    <div class="agent-card">
                        <div class="agent-header">
                            <div class="agent-icon">
                                <i class="fas fa-list-ul"></i>
                            </div>
                            <h4>Planner Agent</h4>
                        </div>
                        <p><strong>Input:</strong> User brief and any provided images.</p>
                        <p><strong>Task:</strong> Analyze and decompose the request into a high-level checklist covering subject, style, composition, environment, and other core elements.</p>
                        <p><strong>Output:</strong> A strategic plan that scopes what the prompt must cover.</p>
                        <div class="agent-tech">
                            <span class="tech-badge">gemini-2.5-flash</span>
                            <span class="tech-badge">Analysis</span>
                        </div>
                    </div>

                    <!-- Writer Agent -->
                    <div class="agent-card">
                        <div class="agent-header">
                            <div class="agent-icon">
                                <i class="fas fa-pencil-ruler"></i>
                            </div>
                            <h4>Context-Aware Writer Agent</h4>
                        </div>
                        <p><strong>Input:</strong> Original brief, images, and the Planner's checklist.</p>
                        <p><strong>Task:</strong> Act as a prompt engineer to produce a rich, descriptive, one-shot narrative prompt.</p>
                        <p><strong>Context routing:</strong> Specialized Writer variants handle use cases such as inpainting, floor plan visualization, or scene extension.</p>
                        <p><strong>Output:</strong> Final prompt with clarifying assumptions or questions.</p>
                        <div class="agent-tech">
                            <span class="tech-badge">gemini-2.5-flash</span>
                            <span class="tech-badge">Prompt Engineering</span>
                        </div>
                    </div>

                    <!-- Image Generator -->
                    <div class="agent-card">
                        <div class="agent-header">
                            <div class="agent-icon">
                                <i class="fas fa-image"></i>
                            </div>
                            <h4>Image Generation Model</h4>
                        </div>
                        <p><strong>Model:</strong> gemini-2.5-flash-image</p>
                        <p><strong>Input:</strong> Final prompt from the Writer and relevant images.</p>
                        <p><strong>Output:</strong> Generated images aligned with the brief and checklist.</p>
                        <div class="agent-tech">
                            <span class="tech-badge">gemini-2.5-flash-image</span>
                            <span class="tech-badge">Image Generation</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Context-Aware Specialized Agents -->
    <section id="specialized-agents" class="project-section bg-light">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Context-Aware Specialized Agents</h2>
                <p>The application's intelligence goes beyond a single Writer agent. Based on uploaded image types, the system automatically selects specialized Writer agents with unique system prompts tailored for specific creative tasks.</p>
                <div class="workflow-step">
                    <h3>Context Selection Process</h3>
                    <p>The <code>handleGenerate</code> function in <strong>App.tsx</strong> automatically sets an <strong>AgentContext</strong> based on uploaded image types. This context is then used in <strong>geminiService.ts</strong> to select the appropriate specialized Writer agent with its unique system prompt, making the application incredibly versatile for complex creative tasks with expert precision.</p>
                </div>
            </div>
            <div class="section-content">
                <div class="features-grid">
                    <!-- Inpainting Agent -->
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-magic"></i>
                        </div>
                        <h3>Inpainting Agent</h3>
                        <p><strong>Trigger:</strong> User provides "Image to Edit" with mask</p>
                        <p><strong>Expertise:</strong> Analyzes artistic style of original image and writes prompts that apply changes while perfectly preserving the existing style for seamless, believable edits.</p>
                        <div class="agent-tech">
                            <span class="tech-badge">Style Preservation</span>
                            <span class="tech-badge">Mask Analysis</span>
                        </div>
                    </div>

                    <!-- Floor Plan Agent -->
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-drafting-compass"></i>
                        </div>
                        <h3>Floor Plan Visualization Agent</h3>
                        <p><strong>Trigger:</strong> Technical drawings and architectural plans</p>
                        <p><strong>Expertise:</strong> Interprets technical symbols, respects core structure and scale, then "narrates" the plan into visual scenes. Intelligently lists assumptions (e.g., "Circular symbols represent trees").</p>
                        <div class="agent-tech">
                            <span class="tech-badge">Technical Analysis</span>
                            <span class="tech-badge">Spatial Understanding</span>
                        </div>
                    </div>

                    <!-- Related Scene Agent -->
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-expand-arrows-alt"></i>
                        </div>
                        <h3>Related Scene Generation Agent</h3>
                        <p><strong>Trigger:</strong> Extending visual worlds ("other side of room")</p>
                        <p><strong>Expertise:</strong> Performs detailed spatial inventory of source images and maintains strict continuity of object placement, lighting, and artistic style from new perspectives.</p>
                        <div class="agent-tech">
                            <span class="tech-badge">Spatial Continuity</span>
                            <span class="tech-badge">Scene Extension</span>
                        </div>
                    </div>

                    <!-- Background Compositing Agent -->
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-layer-group"></i>
                        </div>
                        <h3>Background Compositing Agent</h3>
                        <p><strong>Trigger:</strong> Background image with new element requests</p>
                        <p><strong>Expertise:</strong> Acts as "senior visual assistant" for composites. Analyzes background images and writes prompts that add new elements while perfectly matching perspective, lighting, and scale.</p>
                        <div class="agent-tech">
                            <span class="tech-badge">Composite Matching</span>
                            <span class="tech-badge">Lighting Analysis</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Component Architecture Diagram -->
    <section id="architecture" class="project-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Component Architecture</h2>
            </div>
            <div class="section-content">
                <div class="diagram-container">
                    <div class="mermaid-wrapper" id="component-wrapper">
                        <div class="diagram-controls">
                            <button class="diagram-btn" onclick="zoomIn('component-wrapper')" title="Zoom In">
                                <i class="fas fa-plus"></i>
                            </button>
                            <button class="diagram-btn" onclick="zoomOut('component-wrapper')" title="Zoom Out">
                                <i class="fas fa-minus"></i>
                            </button>
                            <button class="diagram-btn" onclick="resetZoom('component-wrapper')" title="Reset Zoom">
                                <i class="fas fa-home"></i>
                            </button>
                            <button class="diagram-btn" onclick="toggleFullscreen('component-wrapper')" title="Fullscreen">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                        <div class="zoom-info" id="component-zoom-info">100%</div>
                        <div class="mermaid-diagram" id="component-diagram">
                            <div class="mermaid">
graph TD
    subgraph "Application Core"
        App[App.tsx<br/>Root Component]
    end
    
    subgraph "Services"
        GeminiService[geminiService.ts<br/>API Integration]
        DBService[dbService.ts<br/>IndexedDB Storage]
    end
    
    subgraph "UI Components"
        PromptInput[PromptInput.tsx<br/>Control Panel]
        ResultsDisplay[ResultsDisplay.tsx<br/>Output Display]
        ImageUploader[ImageUploader.tsx<br/>File Upload]
        MaskEditor[MaskEditor.tsx<br/>Mask Drawing]
        ImageGrid[ImageGrid.tsx<br/>Grid View]
        ImageModal[ImageModal.tsx<br/>Preview Modal]
        Loader[Loader.tsx<br/>Loading State]
    end
    
    App -->|Manages State| PromptInput
    App -->|Manages State| ResultsDisplay
    App -->|API Calls| GeminiService
    App -->|Persistence| DBService
    PromptInput -->|Contains| ImageUploader
    PromptInput -->|Contains| MaskEditor
    ResultsDisplay -->|Contains| ImageGrid
    ImageGrid -->|Triggers| ImageModal
    
    style App fill:#1a1a1a,stroke:#333,stroke-width:2px,color:#fdfdf8
    style GeminiService fill:#2d2d2d,stroke:#666,stroke-width:2px,color:#fdfdf8
    style DBService fill:#2d2d2d,stroke:#666,stroke-width:2px,color:#fdfdf8
    style PromptInput fill:#333,stroke:#888,stroke-width:1px,color:#fdfdf8
    style ResultsDisplay fill:#333,stroke:#888,stroke-width:1px,color:#fdfdf8
    style ImageUploader fill:#4a4a4a,stroke:#888,stroke-width:1px,color:#fdfdf8
    style MaskEditor fill:#4a4a4a,stroke:#888,stroke-width:1px,color:#fdfdf8
    style ImageGrid fill:#4a4a4a,stroke:#888,stroke-width:1px,color:#fdfdf8
    style ImageModal fill:#4a4a4a,stroke:#888,stroke-width:1px,color:#fdfdf8
    style Loader fill:#4a4a4a,stroke:#888,stroke-width:1px,color:#fdfdf8
                            </div>
                        </div>
                    </div>
                </div>
                <br>
            </br>
                <h3>Component Descriptions</h3>
                <div class="architecture-grid">
                    <div class="architecture-component">
                        <div class="component-header">
                            <div class="component-icon">
                                <i class="fas fa-cogs"></i>
                            </div>
                            <div>
                                <h4 class="component-title">App.tsx</h4>
                            </div>
                        </div>
                        <p class="component-description">Root component holding primary state: brief, loading status, generated content, and images. Orchestrates core generation logic and integrates with services.</p>
                    </div>

                    <div class="architecture-component">
                        <div class="component-header">
                            <div class="component-icon">
                                <i class="fas fa-keyboard"></i>
                            </div>
                            <div>
                                <h4 class="component-title">PromptInput.tsx</h4>
                            </div>
                        </div>
                        <p class="component-description">Main control panel with text inputs, image uploaders, generation mode selectors, and the Generate action button.</p>
                    </div>

                    <div class="architecture-component">
                        <div class="component-header">
                            <div class="component-icon">
                                <i class="fas fa-upload"></i>
                            </div>
                            <div>
                                <h4 class="component-title">ImageUploader.tsx</h4>
                            </div>
                        </div>
                        <p class="component-description">Reusable drag-and-drop or file-dialog uploader for reference images, backgrounds, sketches, and more.</p>
                    </div>

                    <div class="architecture-component">
                        <div class="component-header">
                            <div class="component-icon">
                                <i class="fas fa-paint-brush"></i>
                            </div>
                            <div>
                                <h4 class="component-title">MaskEditor.tsx</h4>
                            </div>
                        </div>
                        <p class="component-description">Interactive canvas for Image to Edit workflows. Supports mask drawing and dedicated inpainting brief field.</p>
                    </div>

                    <div class="architecture-component">
                        <div class="component-header">
                            <div class="component-icon">
                                <i class="fas fa-desktop"></i>
                            </div>
                            <div>
                                <h4 class="component-title">ResultsDisplay.tsx</h4>
                            </div>
                        </div>
                        <p class="component-description">Renders outputs conditionally by generation mode: checklist, final prompt, and image grid display.</p>
                    </div>

                    <div class="architecture-component">
                        <div class="component-header">
                            <div class="component-icon">
                                <i class="fas fa-th"></i>
                            </div>
                            <div>
                                <h4 class="component-title">ImageGrid & Modal</h4>
                            </div>
                        </div>
                        <p class="component-description">Present generated images in a responsive grid with fullscreen modal preview and download options.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Workflow Sequence -->
    <section id="workflow" class="project-section bg-light">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Workflow & Data Flow</h2>
            </div>
            <div class="section-content">
                <div class="diagram-container">
                    <div class="mermaid-wrapper" id="workflow-wrapper">
                        <div class="diagram-controls">
                            <button class="diagram-btn" onclick="zoomIn('workflow-wrapper')" title="Zoom In">
                                <i class="fas fa-plus"></i>
                            </button>
                            <button class="diagram-btn" onclick="zoomOut('workflow-wrapper')" title="Zoom Out">
                                <i class="fas fa-minus"></i>
                            </button>
                            <button class="diagram-btn" onclick="resetZoom('workflow-wrapper')" title="Reset Zoom">
                                <i class="fas fa-home"></i>
                            </button>
                            <button class="diagram-btn" onclick="toggleFullscreen('workflow-wrapper')" title="Fullscreen">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                        <div class="zoom-info" id="workflow-zoom-info">100%</div>
                        <div class="mermaid-diagram" id="workflow-diagram">
                            <div class="mermaid">
sequenceDiagram
    actor User
    participant UI as PromptInput
    participant App as App.tsx
    participant GS as geminiService
    participant API as Gemini API
    
    User->>UI: Enters brief & uploads images
    User->>UI: Clicks Generate
    UI->>App: onGenerate()
    App->>App: Set isLoading = true
    App->>GS: generatePowerPrompt(brief, images, context)
    
    alt Full Workflow (Prompt & Image)
        GS->>API: 1. Planner Agent Call
        API-->>GS: Checklist
        GS->>API: 2. Writer Agent Call (with Checklist)
        API-->>GS: Final Prompt + Assumptions
        GS-->>App: GeneratedContent
        App->>App: Update state
        App->>GS: generateImages(finalPrompt, images)
        GS->>API: 3. Image Model Call
        API-->>GS: Image Data
        GS-->>App: Image URLs
    else Prompt Only
        GS->>API: Planner Agent
        API-->>GS: Checklist
        GS->>API: Writer Agent
        API-->>GS: Final Prompt
        GS-->>App: GeneratedContent
    else Image Only (Fast)
        App->>GS: generateImages(brief, images)
        GS->>API: Direct Image Model Call
        API-->>GS: Image Data
        GS-->>App: Image URLs
    end
    
    App->>App: Set isLoading = false
    App->>UI: Re-render with results
    UI->>User: Display outputs
                            </div>
                        </div>
                    </div>
                </div>
                <br>
            </br>
                <h3>Workflow Steps</h3>
                <div class="workflow-steps">
                    <div class="workflow-step">
                        <h4>1. User Input</h4>
                        <p>The user provides a text brief, optionally uploads images (background, sketch, edit, etc.), selects a generation mode, and clicks Generate in PromptInput.tsx.</p>
                    </div>

                    <div class="workflow-step">
                        <h4>2. Trigger Generation</h4>
                        <p>onGenerate in App.tsx sets isLoading = true and starts the flow.</p>
                    </div>

                    <div class="workflow-step">
                        <h4>3. Determine Context</h4>
                        <p>App.tsx infers AgentContext (e.g., default, inpainting, floorplan) based on which image inputs are present.</p>
                    </div>

                    <div class="workflow-step">
                        <h4>4. Service Layer Call</h4>
                        <p>App.tsx calls geminiService with the brief, images, and context.</p>
                    </div>

                    <div class="workflow-step">
                        <h4>5. Agent Orchestration</h4>
                        <p><strong>Prompt & Image</strong> or <strong>Prompt Only:</strong> generatePowerPrompt runs Planner, then routes to the appropriate Writer. Returns checklist and final prompt.</p>
                        <p><strong>Image Only (Fast):</strong> Skips agents and calls image generation directly with the user brief.</p>
                    </div>

                    <div class="workflow-step">
                        <h4>6. Image Generation</h4>
                        <p><strong>Prompt & Image:</strong> generateImages is called with the refined final prompt.</p>
                        <p><strong>Image Only:</strong> generateImages receives the raw brief.</p>
                    </div>

                    <div class="workflow-step">
                        <h4>7. State Update & Render</h4>
                        <p>App.tsx updates generatedContent and/or generatedImages, sets isLoading = false, and ResultsDisplay renders the new outputs.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Generation Modes -->
    <section id="generation-modes" class="project-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Generation Modes</h2>
            </div>
            <div class="section-content">
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-magic"></i>
                        </div>
                        <h3>Prompt & Image</h3>
                        <p>Full pipeline. Produce a refined prompt through Planner and Writer agents, then generate images from it and any provided images. Best for complex, detailed requests requiring nuanced interpretation.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-edit"></i>
                        </div>
                        <h3>Prompt Only</h3>
                        <p>Run Planner and Writer agents to produce a professional prompt without generating images. Perfect for crafting detailed prompts to use elsewhere or to refine before image generation.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3>Image Only (Fast)</h3>
                        <p>Bypass agents and send the user's brief and images directly to the image model for rapid results. Ideal for quick iterations or when you already have a well-crafted brief.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Technology Stack -->
    <section id="technology" class="project-section bg-light">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Technology Stack</h2>
            </div>
            <div class="section-content">
                <div class="architecture-cards">
                    <div class="arch-card">
                        <div class="arch-icon">
                            <i class="fab fa-react"></i>
                        </div>
                        <h3>Frontend</h3>
                        <p>Modern SPA built with React and TypeScript for type-safe development and component-based architecture.</p>
                        <div class="arch-tech">
                            <span>React</span>
                            <span>TypeScript</span>
                            <span>SPA</span>
                        </div>
                    </div>

                    <div class="arch-card">
                        <div class="arch-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <h3>Styling</h3>
                        <p>Tailwind CSS with custom dark mode theme for a modern, responsive, and accessible user interface.</p>
                        <div class="arch-tech">
                            <span>Tailwind CSS</span>
                            <span>Dark Mode</span>
                            <span>Responsive</span>
                        </div>
                    </div>

                    <div class="arch-card">
                        <div class="arch-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <h3>Persistence</h3>
                        <p>IndexedDB for client-side session storage, ensuring work is preserved across page refreshes.</p>
                        <div class="arch-tech">
                            <span>IndexedDB</span>
                            <span>dbService</span>
                            <span>Local Storage</span>
                        </div>
                    </div>

                    <div class="arch-card">
                        <div class="arch-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h3>AI Services</h3>
                        <p>Google Gemini API integration for multi-agent workflows and image generation capabilities.</p>
                        <div class="arch-tech">
                            <span>Gemini 2.5 Flash</span>
                            <span>Image Generation</span>
                            <span>Multi-Agent</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Key Features -->
    <section id="features" class="project-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Key Features</h2>
            </div>
            <div class="section-content">
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h3>Intelligent Prompt Engineering</h3>
                        <p>Two-stage AI pipeline with Planner and Writer agents that decompose and enhance user briefs into detailed, professional prompts.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>Context-Aware Processing</h3>
                        <p>Four specialized Writer agents automatically selected based on image type: Inpainting, Floor Plan Visualization, Related Scene Generation, and Background Compositing - each with expert-level system prompts.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-paint-brush"></i>
                        </div>
                        <h3>Advanced Image Editing</h3>
                        <p>Interactive mask editor for precise inpainting workflows with dedicated brief fields for targeted edits.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-upload"></i>
                        </div>
                        <h3>Flexible Image Upload</h3>
                        <p>Drag-and-drop support for multiple image types: reference, background, sketch, and edit images.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-save"></i>
                        </div>
                        <h3>Session Persistence</h3>
                        <p>IndexedDB integration ensures your work is automatically saved and restored across browser sessions.</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-moon"></i>
                        </div>
                        <h3>Modern Dark UI</h3>
                        <p>Sleek Tailwind-based dark mode interface optimized for extended creative sessions and reduced eye strain.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Files & Responsibilities -->
    <section id="files" class="project-section bg-light">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Files & Responsibilities</h2>
            </div>
            <div class="section-content">
                <div class="tools-table">
                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>File</th>
                                    <th>Responsibility</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>App.tsx</strong></td>
                                    <td>Root state management, context selection, generation handlers, and integration with services</td>
                                </tr>
                                <tr>
                                    <td><strong>services/geminiService.ts</strong></td>
                                    <td>Handles Planner and Writer calls to Gemini API, image generation via generatePowerPrompt() and generateImages()</td>
                                </tr>
                                <tr>
                                    <td><strong>services/dbService.ts</strong></td>
                                    <td>Persists and retrieves session data from IndexedDB for cross-session continuity</td>
                                </tr>
                                <tr>
                                    <td><strong>components/PromptInput.tsx</strong></td>
                                    <td>Input controls, mode selection, image uploaders, and Generate action trigger</td>
                                </tr>
                                <tr>
                                    <td><strong>components/MaskEditor.tsx</strong></td>
                                    <td>Mask drawing canvas and inpainting brief input for image edit workflows</td>
                                </tr>
                                <tr>
                                    <td><strong>components/ResultsDisplay.tsx</strong></td>
                                    <td>Displays checklist, final prompt, and image gallery based on selected generation mode</td>
                                </tr>
                                <tr>
                                    <td><strong>components/ImageGrid.tsx</strong></td>
                                    <td>Grid view for generated images with hover effects and modal triggers</td>
                                </tr>
                                <tr>
                                    <td><strong>components/ImageModal.tsx</strong></td>
                                    <td>Fullscreen image preview with download and navigation controls</td>
                                </tr>
                                <tr>
                                    <td><strong>components/Loader.tsx</strong></td>
                                    <td>Loading state indicator tied to isLoading flag during API operations</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Results & Impact -->
    <section id="results" class="project-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Results & Impact</h2>
            </div>
            <div class="section-content">
                <p>The structured, agent-driven approach ensures nuanced interpretation of briefs, precise prompt construction, and coherent final images using gemini-2.5-flash-image. The SPA architecture, Tailwind-based dark UI, and IndexedDB persistence provide a responsive and reliable user experience.</p>

                <div class="results-grid">
                    <div class="result-card">
                        <div class="result-value">3</div>
                        <div class="result-label">Generation Modes</div>
                    </div>

                    <div class="result-card">
                        <div class="result-value">2-Stage</div>
                        <div class="result-label">AI Pipeline</div>
                    </div>

                    <div class="result-card">
                        <div class="result-value">9</div>
                        <div class="result-label">React Components</div>
                    </div>

                    <div class="result-card">
                        <div class="result-value">IndexedDB</div>
                        <div class="result-label">Session Persistence</div>
                    </div>
                </div>
                <br>
            </br>
                <h3>Key Outcomes</h3>
                <ul class="feature-list">
                    <li>Eliminated trial-and-error prompting with structured AI agent pipeline</li>
                    <li>Improved prompt quality and detail through specialized Writer variants</li>
                    <li>Enabled complex workflows like inpainting and floor plan visualization</li>
                    <li>Provided fast-path option for quick iterations when needed</li>
                    <li>Ensured work continuity with automatic session persistence</li>
                    <li>Delivered professional, coherent image outputs aligned with user intent</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <strong>YWS</strong>.Portfolio <span>© 2025</span>
                </div>
                <div class="footer-social">
                    <a href="https://github.com/yourusername" target="_blank" rel="noopener noreferrer">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
                        </svg>
                    </a>
                    <a href="https://linkedin.com/in/yourprofile" target="_blank" rel="noopener noreferrer">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                        </svg>
                    </a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Built with passion for AI and modern web development</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script src="../js/project-scripts.js"></script>
    <script>
        // Initialize Mermaid with e-ink theme
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#fdfdf8',
                primaryTextColor: '#1a1a1a',
                primaryBorderColor: '#d1d1d1',
                lineColor: '#4a4a4a',
                secondaryColor: '#f7f7f2',
                tertiaryColor: '#f0f0eb',
                background: '#fdfdf8',
                mainBkg: '#ffffff',
                secondBkg: '#f7f7f2',
                border1: '#d1d1d1',
                border2: '#e8e8e8',
                note: '#f0f0eb',
                noteText: '#1a1a1a',
                noteBorder: '#d1d1d1',
                lineColor: '#666666',
                textColor: '#1a1a1a',
                labelColor: '#1a1a1a',
                errorBkgColor: '#f7f7f2',
                errorTextColor: '#1a1a1a',
                fontSize: '14px',
                fontFamily: 'JetBrains Mono, Roboto Mono, monospace'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis',
                padding: 15,
                nodeSpacing: 50,
                rankSpacing: 50
            },
            sequence: {
                useMaxWidth: true,
                diagramMarginX: 50,
                diagramMarginY: 30,
                actorMargin: 80,
                boxMargin: 10,
                boxTextMargin: 5,
                noteMargin: 10,
                messageMargin: 35,
                mirrorActors: true,
                bottomMarginAdj: 1,
                height: 65,
                width: 150
            }
        });

        // Diagram interaction variables
        let diagramStates = {};

        // Initialize diagram state
        function initDiagramState(wrapperId) {
            if (!diagramStates[wrapperId]) {
                diagramStates[wrapperId] = {
                    scale: 1,
                    translateX: 0,
                    translateY: 0,
                    isDragging: false,
                    lastX: 0,
                    lastY: 0
                };
            }
        }

        // Zoom in function
        function zoomIn(wrapperId) {
            initDiagramState(wrapperId);
            const state = diagramStates[wrapperId];
            state.scale = Math.min(state.scale * 1.2, 3);
            updateDiagramTransform(wrapperId);
            updateZoomInfo(wrapperId);
        }

        // Zoom out function
        function zoomOut(wrapperId) {
            initDiagramState(wrapperId);
            const state = diagramStates[wrapperId];
            state.scale = Math.max(state.scale / 1.2, 0.3);
            updateDiagramTransform(wrapperId);
            updateZoomInfo(wrapperId);
        }

        // Reset zoom function
        function resetZoom(wrapperId) {
            initDiagramState(wrapperId);
            const state = diagramStates[wrapperId];
            state.scale = 1;
            state.translateX = 0;
            state.translateY = 0;
            updateDiagramTransform(wrapperId);
            updateZoomInfo(wrapperId);
        }

        // Toggle fullscreen
        function toggleFullscreen(wrapperId) {
            const wrapper = document.getElementById(wrapperId);
            if (!document.fullscreenElement) {
                wrapper.requestFullscreen().catch(err => {
                    console.log(`Error attempting to enable fullscreen: ${err.message}`);
                });
            } else {
                document.exitFullscreen();
            }
        }

        // Update diagram transform
        function updateDiagramTransform(wrapperId) {
            const diagram = document.querySelector(`#${wrapperId} .mermaid-diagram`);
            const state = diagramStates[wrapperId];
            if (diagram) {
                diagram.style.transform = `translate(${state.translateX}px, ${state.translateY}px) scale(${state.scale})`;
            }
        }

        // Update zoom info display
        function updateZoomInfo(wrapperId) {
            const zoomInfo = document.getElementById(wrapperId.replace('-wrapper', '-zoom-info'));
            const state = diagramStates[wrapperId];
            if (zoomInfo) {
                zoomInfo.textContent = `${Math.round(state.scale * 100)}%`;
            }
        }

        // Initialize pan functionality
        function initPanFunctionality() {
            document.querySelectorAll('.mermaid-diagram').forEach(diagram => {
                const wrapper = diagram.closest('.mermaid-wrapper');
                const wrapperId = wrapper.id;
                
                initDiagramState(wrapperId);

                // Mouse events
                diagram.addEventListener('mousedown', (e) => {
                    const state = diagramStates[wrapperId];
                    state.isDragging = true;
                    state.lastX = e.clientX;
                    state.lastY = e.clientY;
                    diagram.style.cursor = 'grabbing';
                    e.preventDefault();
                });

                document.addEventListener('mousemove', (e) => {
                    const state = diagramStates[wrapperId];
                    if (state.isDragging) {
                        const deltaX = e.clientX - state.lastX;
                        const deltaY = e.clientY - state.lastY;
                        state.translateX += deltaX;
                        state.translateY += deltaY;
                        state.lastX = e.clientX;
                        state.lastY = e.clientY;
                        updateDiagramTransform(wrapperId);
                    }
                });

                document.addEventListener('mouseup', () => {
                    const state = diagramStates[wrapperId];
                    if (state.isDragging) {
                        state.isDragging = false;
                        diagram.style.cursor = 'grab';
                    }
                });

                // Wheel zoom
                wrapper.addEventListener('wheel', (e) => {
                    e.preventDefault();
                    const state = diagramStates[wrapperId];
                    const delta = e.deltaY > 0 ? 0.9 : 1.1;
                    state.scale = Math.min(Math.max(state.scale * delta, 0.3), 3);
                    updateDiagramTransform(wrapperId);
                    updateZoomInfo(wrapperId);
                });

                // Touch events for mobile
                let lastTouchDistance = 0;
                
                diagram.addEventListener('touchstart', (e) => {
                    const state = diagramStates[wrapperId];
                    if (e.touches.length === 1) {
                        state.isDragging = true;
                        state.lastX = e.touches[0].clientX;
                        state.lastY = e.touches[0].clientY;
                    } else if (e.touches.length === 2) {
                        const touch1 = e.touches[0];
                        const touch2 = e.touches[1];
                        lastTouchDistance = Math.sqrt(
                            Math.pow(touch2.clientX - touch1.clientX, 2) +
                            Math.pow(touch2.clientY - touch1.clientY, 2)
                        );
                    }
                    e.preventDefault();
                });

                diagram.addEventListener('touchmove', (e) => {
                    const state = diagramStates[wrapperId];
                    if (e.touches.length === 1 && state.isDragging) {
                        const deltaX = e.touches[0].clientX - state.lastX;
                        const deltaY = e.touches[0].clientY - state.lastY;
                        state.translateX += deltaX;
                        state.translateY += deltaY;
                        state.lastX = e.touches[0].clientX;
                        state.lastY = e.touches[0].clientY;
                        updateDiagramTransform(wrapperId);
                    } else if (e.touches.length === 2) {
                        const touch1 = e.touches[0];
                        const touch2 = e.touches[1];
                        const currentDistance = Math.sqrt(
                            Math.pow(touch2.clientX - touch1.clientX, 2) +
                            Math.pow(touch2.clientY - touch1.clientY, 2)
                        );
                        
                        if (lastTouchDistance > 0) {
                            const scale = currentDistance / lastTouchDistance;
                            state.scale = Math.min(Math.max(state.scale * scale, 0.3), 3);
                            updateDiagramTransform(wrapperId);
                            updateZoomInfo(wrapperId);
                        }
                        lastTouchDistance = currentDistance;
                    }
                    e.preventDefault();
                });

                diagram.addEventListener('touchend', () => {
                    const state = diagramStates[wrapperId];
                    state.isDragging = false;
                    lastTouchDistance = 0;
                });
            });
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Wait for mermaid to render, then initialize pan functionality
            setTimeout(initPanFunctionality, 1000);
        });
    </script>
</body>
</html>

